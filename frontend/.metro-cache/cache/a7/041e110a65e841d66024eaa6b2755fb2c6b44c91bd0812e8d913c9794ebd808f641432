{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":91,"index":91}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":92},"end":{"line":2,"column":69,"index":161}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":162},"end":{"line":3,"column":30,"index":192}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/auth.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _api = require(_dependencyMap[2], \"./api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    loading: true,\n    setUser: () => {},\n    checkAuth: async () => {},\n    signOut: async () => {}\n  });\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const checkAuth = (0, _react.useCallback)(async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (!token) {\n          setUser(null);\n          setLoading(false);\n          return;\n        }\n        const userData = await (0, _api.getMe)();\n        setUser(userData);\n      } catch {\n        setUser(null);\n        await AsyncStorage.default.removeItem('session_token');\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    const signOut = (0, _react.useCallback)(async () => {\n      await AsyncStorage.default.removeItem('session_token');\n      setUser(null);\n    }, []);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, [checkAuth]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        setUser,\n        checkAuth,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"G2bSAY2NB8mjFExtuq/jFuRNf2U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  }\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":83,"map":[[15,2,28,0,"exports"],[15,9,28,0],[15,10,28,0,"AuthProvider"],[15,22,28,0],[15,25,28,0,"AuthProvider"],[15,37,28,0],[16,2,66,0,"exports"],[16,9,66,0],[16,10,66,0,"useAuth"],[16,17,66,0],[16,20,66,0,"useAuth"],[16,27,66,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_api"],[20,10,3,0],[20,13,3,0,"require"],[20,20,3,0],[20,21,3,0,"_dependencyMap"],[20,35,3,0],[21,2,3,30],[21,6,3,30,"_reactJsxDevRuntime"],[21,25,3,30],[21,28,3,30,"require"],[21,35,3,30],[21,36,3,30,"_dependencyMap"],[21,50,3,30],[22,2,20,0],[22,8,20,6,"AuthContext"],[22,19,20,17],[22,35,20,20],[22,39,20,20,"createContext"],[22,45,20,33],[22,46,20,33,"createContext"],[22,59,20,33],[22,61,20,51],[23,4,21,2,"user"],[23,8,21,6],[23,10,21,8],[23,14,21,12],[24,4,22,2,"loading"],[24,11,22,9],[24,13,22,11],[24,17,22,15],[25,4,23,2,"setUser"],[25,11,23,9],[25,13,23,11,"setUser"],[25,14,23,11],[25,19,23,17],[25,20,23,18],[25,21,23,19],[26,4,24,2,"checkAuth"],[26,13,24,11],[26,15,24,13],[26,21,24,13,"checkAuth"],[26,22,24,13],[26,27,24,25],[26,28,24,26],[26,29,24,27],[27,4,25,2,"signOut"],[27,11,25,9],[27,13,25,11],[27,19,25,11,"signOut"],[27,20,25,11],[27,25,25,23],[27,26,25,24],[28,2,26,0],[28,3,26,1],[28,4,26,2],[29,2,28,7],[29,11,28,16,"AuthProvider"],[29,23,28,28,"AuthProvider"],[29,24,28,29],[30,4,28,31,"children"],[31,2,28,71],[31,3,28,72],[31,5,28,74],[32,4,28,74,"_s"],[32,6,28,74],[33,4,29,2],[33,10,29,8],[33,11,29,9,"user"],[33,15,29,13],[33,17,29,15,"setUser"],[33,24,29,22],[33,25,29,23],[33,28,29,26],[33,32,29,26,"useState"],[33,38,29,34],[33,39,29,34,"useState"],[33,47,29,34],[33,49,29,48],[33,53,29,52],[33,54,29,53],[34,4,30,2],[34,10,30,8],[34,11,30,9,"loading"],[34,18,30,16],[34,20,30,18,"setLoading"],[34,30,30,28],[34,31,30,29],[34,34,30,32],[34,38,30,32,"useState"],[34,44,30,40],[34,45,30,40,"useState"],[34,53,30,40],[34,55,30,41],[34,59,30,45],[34,60,30,46],[35,4,32,2],[35,10,32,8,"checkAuth"],[35,19,32,17],[35,22,32,20],[35,26,32,20,"useCallback"],[35,32,32,31],[35,33,32,31,"useCallback"],[35,44,32,31],[35,46,32,32],[35,58,32,44],[36,6,33,4],[36,10,33,8],[37,8,34,6],[37,14,34,12,"token"],[37,19,34,17],[37,22,34,20],[37,28,34,26,"AsyncStorage"],[37,40,34,38],[37,41,34,38,"default"],[37,48,34,38],[37,49,34,39,"getItem"],[37,56,34,46],[37,57,34,47],[37,72,34,62],[37,73,34,63],[38,8,35,6],[38,12,35,10],[38,13,35,11,"token"],[38,18,35,16],[38,20,35,18],[39,10,36,8,"setUser"],[39,17,36,15],[39,18,36,16],[39,22,36,20],[39,23,36,21],[40,10,37,8,"setLoading"],[40,20,37,18],[40,21,37,19],[40,26,37,24],[40,27,37,25],[41,10,38,8],[42,8,39,6],[43,8,40,6],[43,14,40,12,"userData"],[43,22,40,20],[43,25,40,23],[43,31,40,29],[43,35,40,29,"getMe"],[43,39,40,34],[43,40,40,34,"getMe"],[43,45,40,34],[43,47,40,35],[43,48,40,36],[44,8,41,6,"setUser"],[44,15,41,13],[44,16,41,14,"userData"],[44,24,41,22],[44,25,41,23],[45,6,42,4],[45,7,42,5],[45,8,42,6],[45,14,42,12],[46,8,43,6,"setUser"],[46,15,43,13],[46,16,43,14],[46,20,43,18],[46,21,43,19],[47,8,44,6],[47,14,44,12,"AsyncStorage"],[47,26,44,24],[47,27,44,24,"default"],[47,34,44,24],[47,35,44,25,"removeItem"],[47,45,44,35],[47,46,44,36],[47,61,44,51],[47,62,44,52],[48,6,45,4],[48,7,45,5],[48,16,45,14],[49,8,46,6,"setLoading"],[49,18,46,16],[49,19,46,17],[49,24,46,22],[49,25,46,23],[50,6,47,4],[51,4,48,2],[51,5,48,3],[51,7,48,5],[51,9,48,7],[51,10,48,8],[52,4,50,2],[52,10,50,8,"signOut"],[52,17,50,15],[52,20,50,18],[52,24,50,18,"useCallback"],[52,30,50,29],[52,31,50,29,"useCallback"],[52,42,50,29],[52,44,50,30],[52,56,50,42],[53,6,51,4],[53,12,51,10,"AsyncStorage"],[53,24,51,22],[53,25,51,22,"default"],[53,32,51,22],[53,33,51,23,"removeItem"],[53,43,51,33],[53,44,51,34],[53,59,51,49],[53,60,51,50],[54,6,52,4,"setUser"],[54,13,52,11],[54,14,52,12],[54,18,52,16],[54,19,52,17],[55,4,53,2],[55,5,53,3],[55,7,53,5],[55,9,53,7],[55,10,53,8],[56,4,55,2],[56,8,55,2,"useEffect"],[56,14,55,11],[56,15,55,11,"useEffect"],[56,24,55,11],[56,26,55,12],[56,32,55,18],[57,6,56,4,"checkAuth"],[57,15,56,13],[57,16,56,14],[57,17,56,15],[58,4,57,2],[58,5,57,3],[58,7,57,5],[58,8,57,6,"checkAuth"],[58,17,57,15],[58,18,57,16],[58,19,57,17],[59,4,59,2],[59,24,60,4],[59,28,60,4,"_reactJsxDevRuntime"],[59,47,60,4],[59,48,60,4,"jsxDEV"],[59,54,60,4],[59,56,60,5,"AuthContext"],[59,67,60,16],[59,68,60,17,"Provider"],[59,76,60,25],[60,6,60,26,"value"],[60,11,60,31],[60,13,60,33],[61,8,60,35,"user"],[61,12,60,39],[62,8,60,41,"loading"],[62,15,60,48],[63,8,60,50,"setUser"],[63,15,60,57],[64,8,60,59,"checkAuth"],[64,17,60,68],[65,8,60,70,"signOut"],[66,6,60,78],[66,7,60,80],[67,6,60,80,"children"],[67,14,60,80],[67,16,61,7,"children"],[68,4,61,15],[69,6,61,15,"fileName"],[69,14,61,15],[69,16,61,15,"_jsxFileName"],[69,28,61,15],[70,6,61,15,"lineNumber"],[70,16,61,15],[71,6,61,15,"columnNumber"],[71,18,61,15],[72,4,61,15],[72,11,62,26],[72,12,62,27],[73,2,64,0],[74,2,64,1,"_s"],[74,4,64,1],[74,5,28,16,"AuthProvider"],[74,17,28,28],[75,2,28,28,"_c"],[75,4,28,28],[75,7,28,16,"AuthProvider"],[75,19,28,28],[76,2,66,7],[76,11,66,16,"useAuth"],[76,18,66,23,"useAuth"],[76,19,66,23],[76,21,66,26],[77,4,66,26,"_s2"],[77,7,66,26],[78,4,67,2],[78,11,67,9],[78,15,67,9,"useContext"],[78,21,67,19],[78,22,67,19,"useContext"],[78,32,67,19],[78,34,67,20,"AuthContext"],[78,45,67,31],[78,46,67,32],[79,2,68,0],[80,2,68,1,"_s2"],[80,5,68,1],[80,6,66,16,"useAuth"],[80,13,66,23],[81,2,66,23],[81,6,66,23,"_c"],[81,8,66,23],[82,2,66,23,"$RefreshReg$"],[82,14,66,23],[82,15,66,23,"_c"],[82,17,66,23],[83,0,66,23],[83,3]],"functionMap":{"names":["<global>","createContext$argument_0.setUser","createContext$argument_0.checkAuth","createContext$argument_0.signOut","AuthProvider","checkAuth","signOut","useEffect$argument_0","useAuth"],"mappings":"AAA;WCsB,QD;aEC,cF;WGC,cH;OIG;gCCI;GDgB;8BEE;GFG;YGE;GHE;CJO;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}