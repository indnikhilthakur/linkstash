{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":91,"index":91}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":92},"end":{"line":2,"column":69,"index":161}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":162},"end":{"line":3,"column":30,"index":192}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/auth.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[3], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _api = require(_dependencyMap[4], \"./api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    loading: true,\n    setUser: () => {},\n    checkAuth: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {});\n      return function checkAuth() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    signOut: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {});\n      return function signOut() {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  });\n  function AuthProvider(_ref3) {\n    _s();\n    var children = _ref3.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var checkAuth = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        var token = yield AsyncStorage.default.getItem('session_token');\n        if (!token) {\n          setUser(null);\n          setLoading(false);\n          return;\n        }\n        var userData = yield (0, _api.getMe)();\n        setUser(userData);\n      } catch {\n        setUser(null);\n        yield AsyncStorage.default.removeItem('session_token');\n      } finally {\n        setLoading(false);\n      }\n    }), []);\n    var signOut = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      yield AsyncStorage.default.removeItem('session_token');\n      setUser(null);\n    }), []);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, [checkAuth]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        setUser,\n        checkAuth,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"G2bSAY2NB8mjFExtuq/jFuRNf2U=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    return (0, _react.useContext)(AuthContext);\n  }\n  _s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":102,"map":[[15,2,28,0,"exports"],[15,9,28,0],[15,10,28,0,"AuthProvider"],[15,22,28,0],[15,25,28,0,"AuthProvider"],[15,37,28,0],[16,2,66,0,"exports"],[16,9,66,0],[16,10,66,0,"useAuth"],[16,17,66,0],[16,20,66,0,"useAuth"],[16,27,66,0],[17,2,68,1],[17,6,68,1,"_babelRuntimeHelpersSlicedToArray"],[17,39,68,1],[17,42,68,1,"require"],[17,49,68,1],[17,50,68,1,"_dependencyMap"],[17,64,68,1],[18,2,68,1],[18,6,68,1,"_slicedToArray"],[18,20,68,1],[18,23,68,1,"_interopDefault"],[18,38,68,1],[18,39,68,1,"_babelRuntimeHelpersSlicedToArray"],[18,72,68,1],[19,2,68,1],[19,6,68,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,68,1],[19,45,68,1,"require"],[19,52,68,1],[19,53,68,1,"_dependencyMap"],[19,67,68,1],[20,2,68,1],[20,6,68,1,"_asyncToGenerator"],[20,23,68,1],[20,26,68,1,"_interopDefault"],[20,41,68,1],[20,42,68,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,68,1],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,2,0],[22,45,2,0,"require"],[22,52,2,0],[22,53,2,0,"_dependencyMap"],[22,67,2,0],[23,2,2,0],[23,6,2,0,"AsyncStorage"],[23,18,2,0],[23,21,2,0,"_interopDefault"],[23,36,2,0],[23,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,2,0],[24,2,3,0],[24,6,3,0,"_api"],[24,10,3,0],[24,13,3,0,"require"],[24,20,3,0],[24,21,3,0,"_dependencyMap"],[24,35,3,0],[25,2,3,30],[25,6,3,30,"_reactJsxDevRuntime"],[25,25,3,30],[25,28,3,30,"require"],[25,35,3,30],[25,36,3,30,"_dependencyMap"],[25,50,3,30],[26,2,20,0],[26,6,20,6,"AuthContext"],[26,17,20,17],[26,33,20,20],[26,37,20,20,"createContext"],[26,43,20,33],[26,44,20,33,"createContext"],[26,57,20,33],[26,59,20,51],[27,4,21,2,"user"],[27,8,21,6],[27,10,21,8],[27,14,21,12],[28,4,22,2,"loading"],[28,11,22,9],[28,13,22,11],[28,17,22,15],[29,4,23,2,"setUser"],[29,11,23,9],[29,13,23,11,"setUser"],[29,14,23,11],[29,19,23,17],[29,20,23,18],[29,21,23,19],[30,4,24,2,"checkAuth"],[30,13,24,11],[31,6,24,11],[31,10,24,11,"_ref"],[31,14,24,11],[31,21,24,11,"_asyncToGenerator"],[31,38,24,11],[31,39,24,11,"default"],[31,46,24,11],[31,48,24,13],[31,61,24,25],[31,62,24,26],[31,63,24,27],[32,6,24,27],[32,22,24,2,"checkAuth"],[32,31,24,11,"checkAuth"],[32,32,24,11],[33,8,24,11],[33,15,24,11,"_ref"],[33,19,24,11],[33,20,24,11,"apply"],[33,25,24,11],[33,32,24,11,"arguments"],[33,41,24,11],[34,6,24,11],[35,4,24,11],[35,7,24,27],[36,4,25,2,"signOut"],[36,11,25,9],[37,6,25,9],[37,10,25,9,"_ref2"],[37,15,25,9],[37,22,25,9,"_asyncToGenerator"],[37,39,25,9],[37,40,25,9,"default"],[37,47,25,9],[37,49,25,11],[37,62,25,23],[37,63,25,24],[37,64,25,25],[38,6,25,25],[38,22,25,2,"signOut"],[38,29,25,9,"signOut"],[38,30,25,9],[39,8,25,9],[39,15,25,9,"_ref2"],[39,20,25,9],[39,21,25,9,"apply"],[39,26,25,9],[39,33,25,9,"arguments"],[39,42,25,9],[40,6,25,9],[41,4,25,9],[42,2,26,0],[42,3,26,1],[42,4,26,2],[43,2,28,7],[43,11,28,16,"AuthProvider"],[43,23,28,28,"AuthProvider"],[43,24,28,28,"_ref3"],[43,29,28,28],[43,31,28,74],[44,4,28,74,"_s"],[44,6,28,74],[45,4,28,74],[45,8,28,31,"children"],[45,16,28,39],[45,19,28,39,"_ref3"],[45,24,28,39],[45,25,28,31,"children"],[45,33,28,39],[46,4,29,2],[46,8,29,2,"_useState"],[46,17,29,2],[46,20,29,26],[46,24,29,26,"useState"],[46,30,29,34],[46,31,29,34,"useState"],[46,39,29,34],[46,41,29,48],[46,45,29,52],[46,46,29,53],[47,6,29,53,"_useState2"],[47,16,29,53],[47,23,29,53,"_slicedToArray"],[47,37,29,53],[47,38,29,53,"default"],[47,45,29,53],[47,47,29,53,"_useState"],[47,56,29,53],[48,6,29,9,"user"],[48,10,29,13],[48,13,29,13,"_useState2"],[48,23,29,13],[49,6,29,15,"setUser"],[49,13,29,22],[49,16,29,22,"_useState2"],[49,26,29,22],[50,4,30,2],[50,8,30,2,"_useState3"],[50,18,30,2],[50,21,30,32],[50,25,30,32,"useState"],[50,31,30,40],[50,32,30,40,"useState"],[50,40,30,40],[50,42,30,41],[50,46,30,45],[50,47,30,46],[51,6,30,46,"_useState4"],[51,16,30,46],[51,23,30,46,"_slicedToArray"],[51,37,30,46],[51,38,30,46,"default"],[51,45,30,46],[51,47,30,46,"_useState3"],[51,57,30,46],[52,6,30,9,"loading"],[52,13,30,16],[52,16,30,16,"_useState4"],[52,26,30,16],[53,6,30,18,"setLoading"],[53,16,30,28],[53,19,30,28,"_useState4"],[53,29,30,28],[54,4,32,2],[54,8,32,8,"checkAuth"],[54,17,32,17],[54,20,32,20],[54,24,32,20,"useCallback"],[54,30,32,31],[54,31,32,31,"useCallback"],[54,42,32,31],[54,61,32,31,"_asyncToGenerator"],[54,78,32,31],[54,79,32,31,"default"],[54,86,32,31],[54,88,32,32],[54,101,32,44],[55,6,33,4],[55,10,33,8],[56,8,34,6],[56,12,34,12,"token"],[56,17,34,17],[56,26,34,26,"AsyncStorage"],[56,38,34,38],[56,39,34,38,"default"],[56,46,34,38],[56,47,34,39,"getItem"],[56,54,34,46],[56,55,34,47],[56,70,34,62],[56,71,34,63],[57,8,35,6],[57,12,35,10],[57,13,35,11,"token"],[57,18,35,16],[57,20,35,18],[58,10,36,8,"setUser"],[58,17,36,15],[58,18,36,16],[58,22,36,20],[58,23,36,21],[59,10,37,8,"setLoading"],[59,20,37,18],[59,21,37,19],[59,26,37,24],[59,27,37,25],[60,10,38,8],[61,8,39,6],[62,8,40,6],[62,12,40,12,"userData"],[62,20,40,20],[62,29,40,29],[62,33,40,29,"getMe"],[62,37,40,34],[62,38,40,34,"getMe"],[62,43,40,34],[62,45,40,35],[62,46,40,36],[63,8,41,6,"setUser"],[63,15,41,13],[63,16,41,14,"userData"],[63,24,41,22],[63,25,41,23],[64,6,42,4],[64,7,42,5],[64,8,42,6],[64,14,42,12],[65,8,43,6,"setUser"],[65,15,43,13],[65,16,43,14],[65,20,43,18],[65,21,43,19],[66,8,44,6],[66,14,44,12,"AsyncStorage"],[66,26,44,24],[66,27,44,24,"default"],[66,34,44,24],[66,35,44,25,"removeItem"],[66,45,44,35],[66,46,44,36],[66,61,44,51],[66,62,44,52],[67,6,45,4],[67,7,45,5],[67,16,45,14],[68,8,46,6,"setLoading"],[68,18,46,16],[68,19,46,17],[68,24,46,22],[68,25,46,23],[69,6,47,4],[70,4,48,2],[70,5,48,3],[70,8,48,5],[70,10,48,7],[70,11,48,8],[71,4,50,2],[71,8,50,8,"signOut"],[71,15,50,15],[71,18,50,18],[71,22,50,18,"useCallback"],[71,28,50,29],[71,29,50,29,"useCallback"],[71,40,50,29],[71,59,50,29,"_asyncToGenerator"],[71,76,50,29],[71,77,50,29,"default"],[71,84,50,29],[71,86,50,30],[71,99,50,42],[72,6,51,4],[72,12,51,10,"AsyncStorage"],[72,24,51,22],[72,25,51,22,"default"],[72,32,51,22],[72,33,51,23,"removeItem"],[72,43,51,33],[72,44,51,34],[72,59,51,49],[72,60,51,50],[73,6,52,4,"setUser"],[73,13,52,11],[73,14,52,12],[73,18,52,16],[73,19,52,17],[74,4,53,2],[74,5,53,3],[74,8,53,5],[74,10,53,7],[74,11,53,8],[75,4,55,2],[75,8,55,2,"useEffect"],[75,14,55,11],[75,15,55,11,"useEffect"],[75,24,55,11],[75,26,55,12],[75,32,55,18],[76,6,56,4,"checkAuth"],[76,15,56,13],[76,16,56,14],[76,17,56,15],[77,4,57,2],[77,5,57,3],[77,7,57,5],[77,8,57,6,"checkAuth"],[77,17,57,15],[77,18,57,16],[77,19,57,17],[78,4,59,2],[78,24,60,4],[78,28,60,4,"_reactJsxDevRuntime"],[78,47,60,4],[78,48,60,4,"jsxDEV"],[78,54,60,4],[78,56,60,5,"AuthContext"],[78,67,60,16],[78,68,60,17,"Provider"],[78,76,60,25],[79,6,60,26,"value"],[79,11,60,31],[79,13,60,33],[80,8,60,35,"user"],[80,12,60,39],[81,8,60,41,"loading"],[81,15,60,48],[82,8,60,50,"setUser"],[82,15,60,57],[83,8,60,59,"checkAuth"],[83,17,60,68],[84,8,60,70,"signOut"],[85,6,60,78],[85,7,60,80],[86,6,60,80,"children"],[86,14,60,80],[86,16,61,7,"children"],[87,4,61,15],[88,6,61,15,"fileName"],[88,14,61,15],[88,16,61,15,"_jsxFileName"],[88,28,61,15],[89,6,61,15,"lineNumber"],[89,16,61,15],[90,6,61,15,"columnNumber"],[90,18,61,15],[91,4,61,15],[91,11,62,26],[91,12,62,27],[92,2,64,0],[93,2,64,1,"_s"],[93,4,64,1],[93,5,28,16,"AuthProvider"],[93,17,28,28],[94,2,28,28,"_c"],[94,4,28,28],[94,7,28,16,"AuthProvider"],[94,19,28,28],[95,2,66,7],[95,11,66,16,"useAuth"],[95,18,66,23,"useAuth"],[95,19,66,23],[95,21,66,26],[96,4,66,26,"_s2"],[96,7,66,26],[97,4,67,2],[97,11,67,9],[97,15,67,9,"useContext"],[97,21,67,19],[97,22,67,19,"useContext"],[97,32,67,19],[97,34,67,20,"AuthContext"],[97,45,67,31],[97,46,67,32],[98,2,68,0],[99,2,68,1,"_s2"],[99,5,68,1],[99,6,66,16,"useAuth"],[99,13,66,23],[100,2,66,23],[100,6,66,23,"_c"],[100,8,66,23],[101,2,66,23,"$RefreshReg$"],[101,14,66,23],[101,15,66,23,"_c"],[101,17,66,23],[102,0,66,23],[102,3]],"functionMap":{"names":["<global>","createContext$argument_0.setUser","createContext$argument_0.checkAuth","createContext$argument_0.signOut","AuthProvider","checkAuth","signOut","useEffect$argument_0","useAuth"],"mappings":"AAA;WCsB,QD;aEC,cF;WGC,cH;OIG;gCCI;GDgB;8BEE;GFG;YGE;GHE;CJO;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}