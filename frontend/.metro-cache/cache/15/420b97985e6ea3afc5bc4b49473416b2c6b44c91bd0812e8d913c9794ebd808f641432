{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":91,"index":91}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":92},"end":{"line":2,"column":69,"index":161}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":162},"end":{"line":3,"column":30,"index":192}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/auth.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _api = require(_dependencyMap[2], \"./api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    user: null,\n    loading: true,\n    setUser: () => {},\n    checkAuth: async () => {},\n    signOut: async () => {}\n  });\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const checkAuth = (0, _react.useCallback)(async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (!token) {\n          setUser(null);\n          setLoading(false);\n          return;\n        }\n        const userData = await (0, _api.getMe)();\n        setUser(userData);\n      } catch {\n        setUser(null);\n        await AsyncStorage.default.removeItem('session_token');\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    const signOut = (0, _react.useCallback)(async () => {\n      await AsyncStorage.default.removeItem('session_token');\n      setUser(null);\n    }, []);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, [checkAuth]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        setUser,\n        checkAuth,\n        signOut\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    return (0, _react.useContext)(AuthContext);\n  }\n});","lineCount":74,"map":[[13,2,28,0,"exports"],[13,9,28,0],[13,10,28,0,"AuthProvider"],[13,22,28,0],[13,25,28,0,"AuthProvider"],[13,37,28,0],[14,2,66,0,"exports"],[14,9,66,0],[14,10,66,0,"useAuth"],[14,17,66,0],[14,20,66,0,"useAuth"],[14,27,66,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_api"],[18,10,3,0],[18,13,3,0,"require"],[18,20,3,0],[18,21,3,0,"_dependencyMap"],[18,35,3,0],[19,2,3,30],[19,6,3,30,"_reactJsxDevRuntime"],[19,25,3,30],[19,28,3,30,"require"],[19,35,3,30],[19,36,3,30,"_dependencyMap"],[19,50,3,30],[20,2,20,0],[20,8,20,6,"AuthContext"],[20,19,20,17],[20,35,20,20],[20,39,20,20,"createContext"],[20,45,20,33],[20,46,20,33,"createContext"],[20,59,20,33],[20,61,20,51],[21,4,21,2,"user"],[21,8,21,6],[21,10,21,8],[21,14,21,12],[22,4,22,2,"loading"],[22,11,22,9],[22,13,22,11],[22,17,22,15],[23,4,23,2,"setUser"],[23,11,23,9],[23,13,23,11,"setUser"],[23,14,23,11],[23,19,23,17],[23,20,23,18],[23,21,23,19],[24,4,24,2,"checkAuth"],[24,13,24,11],[24,15,24,13],[24,21,24,13,"checkAuth"],[24,22,24,13],[24,27,24,25],[24,28,24,26],[24,29,24,27],[25,4,25,2,"signOut"],[25,11,25,9],[25,13,25,11],[25,19,25,11,"signOut"],[25,20,25,11],[25,25,25,23],[25,26,25,24],[26,2,26,0],[26,3,26,1],[26,4,26,2],[27,2,28,7],[27,11,28,16,"AuthProvider"],[27,23,28,28,"AuthProvider"],[27,24,28,29],[28,4,28,31,"children"],[29,2,28,71],[29,3,28,72],[29,5,28,74],[30,4,29,2],[30,10,29,8],[30,11,29,9,"user"],[30,15,29,13],[30,17,29,15,"setUser"],[30,24,29,22],[30,25,29,23],[30,28,29,26],[30,32,29,26,"useState"],[30,38,29,34],[30,39,29,34,"useState"],[30,47,29,34],[30,49,29,48],[30,53,29,52],[30,54,29,53],[31,4,30,2],[31,10,30,8],[31,11,30,9,"loading"],[31,18,30,16],[31,20,30,18,"setLoading"],[31,30,30,28],[31,31,30,29],[31,34,30,32],[31,38,30,32,"useState"],[31,44,30,40],[31,45,30,40,"useState"],[31,53,30,40],[31,55,30,41],[31,59,30,45],[31,60,30,46],[32,4,32,2],[32,10,32,8,"checkAuth"],[32,19,32,17],[32,22,32,20],[32,26,32,20,"useCallback"],[32,32,32,31],[32,33,32,31,"useCallback"],[32,44,32,31],[32,46,32,32],[32,58,32,44],[33,6,33,4],[33,10,33,8],[34,8,34,6],[34,14,34,12,"token"],[34,19,34,17],[34,22,34,20],[34,28,34,26,"AsyncStorage"],[34,40,34,38],[34,41,34,38,"default"],[34,48,34,38],[34,49,34,39,"getItem"],[34,56,34,46],[34,57,34,47],[34,72,34,62],[34,73,34,63],[35,8,35,6],[35,12,35,10],[35,13,35,11,"token"],[35,18,35,16],[35,20,35,18],[36,10,36,8,"setUser"],[36,17,36,15],[36,18,36,16],[36,22,36,20],[36,23,36,21],[37,10,37,8,"setLoading"],[37,20,37,18],[37,21,37,19],[37,26,37,24],[37,27,37,25],[38,10,38,8],[39,8,39,6],[40,8,40,6],[40,14,40,12,"userData"],[40,22,40,20],[40,25,40,23],[40,31,40,29],[40,35,40,29,"getMe"],[40,39,40,34],[40,40,40,34,"getMe"],[40,45,40,34],[40,47,40,35],[40,48,40,36],[41,8,41,6,"setUser"],[41,15,41,13],[41,16,41,14,"userData"],[41,24,41,22],[41,25,41,23],[42,6,42,4],[42,7,42,5],[42,8,42,6],[42,14,42,12],[43,8,43,6,"setUser"],[43,15,43,13],[43,16,43,14],[43,20,43,18],[43,21,43,19],[44,8,44,6],[44,14,44,12,"AsyncStorage"],[44,26,44,24],[44,27,44,24,"default"],[44,34,44,24],[44,35,44,25,"removeItem"],[44,45,44,35],[44,46,44,36],[44,61,44,51],[44,62,44,52],[45,6,45,4],[45,7,45,5],[45,16,45,14],[46,8,46,6,"setLoading"],[46,18,46,16],[46,19,46,17],[46,24,46,22],[46,25,46,23],[47,6,47,4],[48,4,48,2],[48,5,48,3],[48,7,48,5],[48,9,48,7],[48,10,48,8],[49,4,50,2],[49,10,50,8,"signOut"],[49,17,50,15],[49,20,50,18],[49,24,50,18,"useCallback"],[49,30,50,29],[49,31,50,29,"useCallback"],[49,42,50,29],[49,44,50,30],[49,56,50,42],[50,6,51,4],[50,12,51,10,"AsyncStorage"],[50,24,51,22],[50,25,51,22,"default"],[50,32,51,22],[50,33,51,23,"removeItem"],[50,43,51,33],[50,44,51,34],[50,59,51,49],[50,60,51,50],[51,6,52,4,"setUser"],[51,13,52,11],[51,14,52,12],[51,18,52,16],[51,19,52,17],[52,4,53,2],[52,5,53,3],[52,7,53,5],[52,9,53,7],[52,10,53,8],[53,4,55,2],[53,8,55,2,"useEffect"],[53,14,55,11],[53,15,55,11,"useEffect"],[53,24,55,11],[53,26,55,12],[53,32,55,18],[54,6,56,4,"checkAuth"],[54,15,56,13],[54,16,56,14],[54,17,56,15],[55,4,57,2],[55,5,57,3],[55,7,57,5],[55,8,57,6,"checkAuth"],[55,17,57,15],[55,18,57,16],[55,19,57,17],[56,4,59,2],[56,24,60,4],[56,28,60,4,"_reactJsxDevRuntime"],[56,47,60,4],[56,48,60,4,"jsxDEV"],[56,54,60,4],[56,56,60,5,"AuthContext"],[56,67,60,16],[56,68,60,17,"Provider"],[56,76,60,25],[57,6,60,26,"value"],[57,11,60,31],[57,13,60,33],[58,8,60,35,"user"],[58,12,60,39],[59,8,60,41,"loading"],[59,15,60,48],[60,8,60,50,"setUser"],[60,15,60,57],[61,8,60,59,"checkAuth"],[61,17,60,68],[62,8,60,70,"signOut"],[63,6,60,78],[63,7,60,80],[64,6,60,80,"children"],[64,14,60,80],[64,16,61,7,"children"],[65,4,61,15],[66,6,61,15,"fileName"],[66,14,61,15],[66,16,61,15,"_jsxFileName"],[66,28,61,15],[67,6,61,15,"lineNumber"],[67,16,61,15],[68,6,61,15,"columnNumber"],[68,18,61,15],[69,4,61,15],[69,11,62,26],[69,12,62,27],[70,2,64,0],[71,2,66,7],[71,11,66,16,"useAuth"],[71,18,66,23,"useAuth"],[71,19,66,23],[71,21,66,26],[72,4,67,2],[72,11,67,9],[72,15,67,9,"useContext"],[72,21,67,19],[72,22,67,19,"useContext"],[72,32,67,19],[72,34,67,20,"AuthContext"],[72,45,67,31],[72,46,67,32],[73,2,68,0],[74,0,68,1],[74,3]],"functionMap":{"names":["<global>","createContext$argument_0.setUser","createContext$argument_0.checkAuth","createContext$argument_0.signOut","AuthProvider","checkAuth","signOut","useEffect$argument_0","useAuth"],"mappings":"AAA;WCsB,QD;aEC,cF;WGC,cH;OIG;gCCI;GDgB;8BEE;GFG;YGE;GHE;CJO;OQE;CRE"},"hasCjsExports":false},"type":"js/module"}]}